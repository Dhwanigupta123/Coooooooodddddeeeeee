<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="./styles.css">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #fff;
            overflow-x: hidden; /* prevent horizontal scroll */
        }

        .container {
            position: relative;
            text-align: center;
            padding-top: 50px;
        }

        .header_text {
            font-size: 24px;
            font-weight: bold;
            color: #b0005c;
            margin: 10px 0;
        }

        /* GIF container restored from your original code */
        .gif_container img {
            width: 250px;
            margin: 20px 0;
        }

        /* Buttons styling with better look */
        .buttons {
            margin-top: 20px;
            position: relative;
            height: 60px;
        }

        .btn {
            padding: 12px 28px;
            margin: 10px;
            font-size: 18px;
            background: linear-gradient(45deg, #ff007f, #b0005c);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(176, 0, 92, 0.4);
            transition: all 0.3s ease;
            position: relative;
            font-weight: 600;
            user-select: none;
        }

        .btn:hover {
            background: linear-gradient(45deg, #b0005c, #ff007f);
            box-shadow: 0 6px 12px rgba(176, 0, 92, 0.6);
            transform: scale(1.05);
        }

        /* Floating hearts container */
        .heart {
            position: fixed;
            width: 20px;
            height: 20px;
            background-image: url('https://emoji.slack-edge.com/T024FPYBQ/heart/4e1ec3f1be1f9b5b.png');
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            animation: floatUp 2s ease forwards;
            z-index: 9999;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }

        /* Music toggle button */
        #musicToggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #b0005c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 22px;
            cursor: pointer;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Flags and pins container */
        .flags-container {
            position: fixed;
            top: 40%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
            z-index: 5000;
            padding: 0 40px;
        }

        /* Each flag */
        .flag {
            position: relative;
            width: 120px;
            height: 80px;
            box-shadow: 0 0 10px rgba(176, 0, 92, 0.7);
            border-radius: 12px;
            background-color: white;
        }

        .flag img {
            width: 100%;
            height: 100%;
            border-radius: 12px;
            object-fit: cover;
        }

        /* Pin below each flag */
        .pin {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: radial-gradient(circle at center, #b0005c 40%, transparent 70%);
            border-radius: 50% 50% 50% 0;
            transform-origin: bottom left;
            transform: translateX(-50%) rotate(-45deg);
            box-shadow: 0 0 5px #b0005c;
            filter: drop-shadow(0 0 3px #b0005c);
        }

        /* Heart SVG connector */
        .heart-connector {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 200px;
            height: 150px;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 4999;
        }
    </style>
</head>

<body>
    <div class="container">
        <div>
            <h1 class="header_text">Do you wanna go out with me?</h1>
            <h1 class="header_text">Are you free today?</h1>
        </div>

        <!-- Your original funny GIF restored -->
        <div class="gif_container">
            <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDdtZ2JiZDR0a3lvMWF4OG8yc3p6Ymdvd3g2d245amdveDhyYmx6eCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cLS1cfxvGOPVpf9g3y/giphy.gif"
                alt="Funny animated cartoon">
        </div>

        <div class="buttons">
            <button class="btn" id="yesButton" onclick="handleYesClick()">Yes</button>
            <button class="btn" id="noButton" onclick="handleNoClick()">No</button>
        </div>
    </div>

    <!-- Flags with pins -->
    <div class="flags-container">
        <div class="flag" id="ukFlag">
            <img src="images/ukflag.svg" alt="UK Flag" />
            <div class="pin"></div>
        </div>

        <div class="flag" id="indiaFlag">
            <img src="images/indiaflag.svg" alt="India Flag" />
            <div class="pin"></div>
        </div>
    </div>

    <!-- Heart SVG connector between the two flags -->
    <svg class="heart-connector" viewBox="0 0 200 150" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path
            d="M20 75 Q100 0 180 75 Q100 150 20 75 Z"
            fill="none" stroke="#b0005c" stroke-width="4" />
        <text x="100" y="65" text-anchor="middle" font-size="36" fill="#b0005c" font-family="Arial">‚ù§Ô∏è</text>
    </svg>

    <!-- Background music -->
    <audio id="bgMusic" loop>
        <source src="music/music.mp3" type="audio/mp3" />
        <!-- Your actual Dooriyan song mp3 should be here -->
    </audio>
    <button id="musicToggle" title="Mute/Unmute Music">üîà</button>

    <!-- Confetti library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        const yesButton = document.getElementById("yesButton");
        const noButton = document.getElementById("noButton");
        const bgMusic = document.getElementById("bgMusic");
        const musicToggle = document.getElementById("musicToggle");
        let clickCount = 0;

        // Play music on load, muted if blocked
        bgMusic.volume = 0.3;
        bgMusic.muted = false;
        bgMusic.play().catch(() => {
            bgMusic.muted = true;
        });

        // Toggle music
        musicToggle.addEventListener("click", () => {
            if (bgMusic.muted) {
                bgMusic.muted = false;
                musicToggle.textContent = "üîà";
            } else {
                bgMusic.muted = true;
                musicToggle.textContent = "üîá";
            }
        });

        // Create floating heart at position
        function createHeart(x, y) {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            document.body.appendChild
